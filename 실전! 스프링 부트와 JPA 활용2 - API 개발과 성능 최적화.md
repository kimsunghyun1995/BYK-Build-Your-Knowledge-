## API 스펙을 위한 별도의 DTO를 만들어야한다.

entity의 스펙이 변하면 API 스펙도 변하기 때문에 **API 스펙만을 위한 DTO**을 만들어야 한다.

- entity를 파라미터로 받으면 안된다.
- 바인딩 시 어떤 값들이 명확히 넘어오는지 알 수 있다. → 유지보수 쉬워짐

이에 추가된 주의사항

- 엔티티를 직접 노출 시 양방향 연관관계가 걸린 곳 중 한 곳은 반드시 `@JsonIgnore` 를 해줘야한다.
- 지연로딩을 피하기 위해 즉시 로딩을 설정하면 안된다. 즉시 로딩 떄문에 연관관계가 필요 없는 경우에도 데이터를 항상 조회해서 성능 문제가 발생할 수 있다. 즉시 로딩으로 설정하면 성능 튜닝이 매우 어려워 짐 항상 지연 로딩을 기본으로 하고, **성능 최적화가 필요한 경우 패치 조인을 사용해라**

## API Response는 유연성을 위해 껍데기 class가 필요하다.

회원 목록 조회에서 단순 List 데이터 타입으로 response 한다면, 확장성이 떨어진다.

```java
[
	{"name" : "kim"},
  {"name" : "park"},
...
]
```

위 응답값은 List 타입이며, 더이상 확장이 불가능하다. 그래서 아래 응답값과 같이 껍데이 class를 씌어준다.

```
{
	count : 5 //이런식으로 확장이 가능함
	[
		{"name" : "kim"},
	  {"name" : "park"},
	...
	]
}
```